# 通过Dockerfile创建镜像

#### 关于 Dockerfile

Dockerfile 是 Docker 中用于定义镜像自动化构建流程的配置文件 , 包含了构建镜像过程中需要执行的命令和其他操作 .

Dockerfile 在网络等其他介质中传递的速度极快 , 能够更快的帮助我们实现容器迁移和集群部署 .

在 Dockerfile 中 , 拥有一套独立的指令语法 , 其用于给出镜像构建过程中所要执行的过程 .

**环境搭建与镜像构建**

在一个完整的开发、测试、部署过程中 , 程序运行环境的定义通常是由开发人员来进行的 , 因为他们更加熟悉程序运转的各个细节 . 为了方便测试和运维搭建相同的程序运行环境 , 常用的做法是由开发人员编写一套环境搭建手册 , 帮助测试人员和运维人员了解环境搭建的流程 . 

而 Dockerfile 就很像一个能够完成自动构建的搭建手册 , 包含的就是一个构建容器的过程 . 

#### 编写 Dockerfile

前面介绍了提交容器修改 , 再进行镜像迁移的方式 . 但是使用 Dockerfile 的优势更多 : 

* Dockerfile 的体积远小于镜像包 , 更容易进行快速迁移和部署
* 环境构建流程记录了 Dockerfile 中 , 能够直观的看到镜像构建的顺序和逻辑
* 使用 Dockerfile 来构建镜像能够更轻松的实现自动部署等自动化流程
* 在修改环境搭建细节时 , 修改 Dockerfile 文件要比从新提交镜像来的轻松、简单



